!function(e,t,i,o,n,a,r,l,s){"use strict";function c(e){return a.getMessage("APEXIR_"+e)}function _(e){var t=[c(e)].concat(Array.prototype.slice.call(arguments,1));return a.formatNoEscape.apply(this,t)}function h(e){return"#"+t.escapeCSS(e)}var d="a-IRR",u=d+"-dialog",g=d+"-sortWidget",p=g+"-button",f=d+"-group-by-column",m=d+"-add-function",E=d+"-function",v=d+"-function-col",R=d+"-sequenceNumber",T=d+"-function-num-col",I=d+"-function-row-",b=d+"-pivot-column",w=d+"-row-column",O=d+"-col-value",A=d+"-singleRow-group",C="ui-button--hot",D="is-active",k="REPORT",S="GROUP_BY",L="PIVOT",y="CHART",G="SHOW_COLUMN",P="SHOW_FILTER",x="SHOW_HIGHLIGHT",M="SHOW_ORDERING",N="SHOW_CTRL_BREAK",H="SHOW_COMPUTATION",B="SHOW_AGGREGATE",V="SHOW_CHART",F="SHOW_GROUP_BY",U="SHOW_GROUP_BY_SORT",W="SHOW_PIVOT",$="SHOW_PIVOT_SORT",Y="SHOW_FLASHBACK",K="SHOW_RENAME",j="SHOW_DELETE",z="SHOW_SAVE_DEFAULT",X="SHOW_RENAME_DEFAULT",q="SHOW_DELETE_DEFAULT",J="SHOW_RESET",Q="SHOW_DOWNLOAD",Z="SHOW_NOTIFY",ee="SAVE_REPORT",te="action",ie="ASC",oe="DESC",ne="dialog_js",ae="checked",re="PAGE",le="REGION",se="ATTACHMENT",ce={BUTTON:{CANCEL:c("CANCEL"),DELETE:c("DELETE"),APPLY:c("APPLY"),SEND:c("SEND"),DOWNLOAD:c("DOWNLOAD")},DIALOG_TITLE:{SELECT_COLUMNS:c("SELECT_COLUMNS"),FILTER:c("FILTER"),HIGHLIGHT:c("HIGHLIGHT"),SORT:c("SORT"),CONTROL_BREAK:c("CONTROL_BREAK"),COMPUTATION:c("COMPUTE"),AGGREGATE:c("AGGREGATE"),CHART:c("CHART"),GROUP_BY:c("GROUP_BY"),GROUP_BY_SORT:c("GROUP_BY_SORT"),PIVOT:c("PIVOT"),PIVOT_SORT:c("PIVOT_SORT"),FLASHBACK:c("FLASHBACK"),SAVE_REPORT:c("SAVE_REPORT"),RENAME_REPORT:c("RENAME_REPORT"),DELETE_REPORT:c("DELETE_REPORT"),SAVE_DEFAULT_REPORT:c("SAVE_DEFAULT_REPORT"),RENAME_DEFAULT_REPORT:c("RENAME_DEFAULT_REPORT"),DELETE_DEFAULT_REPORT:c("DELETE_DEFAULT_REPORT"),RESET:c("RESET"),DOWNLOAD:c("DOWNLOAD"),SUBSCRIPTION:c("SUBSCRIPTION")}};const _e="aria-pressed",he="aria-describedby",de="aria-details",ue="aria-controls";e.widget("apex.interactiveReport",{widgetEventPrefix:"interactivereport",lastFunction:null,idPrefix:null,currentColumnId:null,lastColumnId:null,computationId:null,reportId:null,worksheetId:null,region$:null,dialogDrop$:null,tempReturnElement$:null,viewMode:k,options:{regionId:null,ajaxIdentifier:null,toolbar:!0,searchField:!0,columnSearch:!0,rowsPerPageSelect:!1,reportsSelect:!0,actionsMenu:!0,reportViewMode:k,selectColumns:!0,filter:!0,rowsPerPage:!0,currentRowsPerPage:50,maxRowsPerPage:null,maxRowCount:null,sort:!0,controlBreak:!0,highlight:!0,compute:!0,aggregate:!0,chart:!0,groupBy:!0,pivot:!0,flashback:!0,saveReport:!0,saveDefaultReport:!1,reset:!0,help:!0,helpLink:"",download:!0,downloadContentDisposition:se,subscription:!0,pagination:!0,detailLink:!1,isControlPanelCollapsed:!1,fixedHeader:re,fixedHeaderMaxHeight:null,pageItems:null,actionsMenuStructure:"IG",lazyLoading:!1,beforeRefresh:null,afterRefresh:null},_create:function(){var i=this.options.regionId,o=this,n=e(h(i),apex.gPageContext$),a=e(h(i+"_ir"),apex.gPageContext$);0===n.length&&(n=a.wrap('<div id="'+i+'"></div>')),this.idPrefix=this.options.regionId,this.reportId=this._getElement("report_id").val(),this.worksheetId=this._getElement("worksheet_id").val(),this.viewMode=this._getElement("view_mode").val(),this.region$=n,this.dialogDrop$=this._getElement(ne),this.needsLazyLoading=!1,this._getElement("worksheet_region").addClass(d),this._initOnCreate(),this._on(this.region$,{apexrefresh:function(e){this._search(),e.stopPropagation()}});const r=i=>{const o=e(i).find(".a-IRR-table");e("button[data-menu^='tc_menu_a']",o).each((function(){const i=t.escapeCSS(this.getAttribute("data-menu"));e(`div.a-Menu[id=${i}]`).remove(),e(`#${i}`).menu()}))};r(a),e(this.region$).on("apexafterrefresh",(function(){r(a)})),apex.region.create(i,{type:"InteractiveReport",refresh:function(){o.refresh()},widget:function(){return o.element}}),this.options.lazyLoading&&(this.needsLazyLoading=!0,setTimeout((()=>{apex.widget.util.isVisible(n)&&(o.needsLazyLoading=!1,o.refresh())}),0))},_destroy:function(){this._getElement("worksheet_region").removeClass(d),apex.region.destroy(this.options.regionId)},_setOption:function(e,t){this._super(e,t)},_action:function(t,i){var o=e.extend({widgetMod:"ACTION",widgetAction:t},i);this._get(o)},_aggregateClear:function(e){this._action("DELETE_AGGREGATE",{id:e})},_aggregateControl:function(){var t=this._getDialogElement("aggregate_by").val(),i=-1!==e.inArray(t,["COUNT","COUNT_DISTINCT"]);this._getDialogElement("all_columns_container").toggle(i),this._getDialogElement("number_columns_container").toggle(!i)},_aggregateSave:function(){var t,i=this._getDialogElement("aggregate_by").val(),o=this._getDialogElement("aggregation").val();t=-1!==e.inArray(i,["COUNT","COUNT_DISTINCT"])?this._getDialogElement("all_columns").val():this._getDialogElement("number_columns").val(),this._action("SAVE_AGGREGATE",{id:o,value:i,x05:t})},_chartClear:function(){this.options.reportViewMode=k,this._action("DELETE_CHART")},_chartControl:function(){var t=e(".a-IRR-dialogCol.js-no-pie",this._getElement(ne)).find("input, select");this._getDialogElement("chart_type_2").prop(ae)?(t.prop("disabled",!0),t.filter("input").val(""),t.addClass("is-disabled")):(t.prop("disabled",!1),t.removeClass("is-disabled"))},_chartSave:function(){this._action("SAVE_CHART",{f01:this._utilGetFormElValues([this._getId("chart_type"),this._getId("chart_label"),this._getId("chart_value"),this._getId("aggregate_by"),this._getId("label_axis_title"),this._getId("value_axis_title"),this._getId("sort"),this._getId("orientation")])})},_chartView:function(){this._action("VIEW_CHART")},_columnOrder:function(e){var t;e===ie||e===oe?this._action("COLUMN_ORDER",{f01:this.lastColumnId,f02:e}):(t=this._utilGetFormElAttributes(),this._action("SORT",{f01:t.ids,f02:t.values}))},_columnDisplay:function(){var e=[];this._getDialogElement("shuttle_right").find("option").each((function(){e.push(this.value)})),this._action("SET_COLUMNS",{f01:e})},_columnHelp:function(){this._controlsGet("INFO",this.currentColumnId)},_columnHide:function(e){var t;t=e||this.currentColumnId,this._action("HIDE",{id:t})},_columnSearchShow:function(e){var t,i=[],o=[],n=this,a=JSON.parse(e).row;for(t=0;t<a.length;t++)"0"===a[t].C?(i.push({type:te,label:a[t].D,value:a[t].R,action:function(){n._getElement("column_search_root").removeClass(D),n._getElement("column_search_current_column").val(""),n._getElement("search_field").attr({title:"Search",placeholder:""})}}),i.push({type:"separator"})):o.push({label:a[t].D,value:a[t].R});i.push({type:"radioGroup",get:function(){return n._getElement("column_search_current_column").val()},set:function(e){var i,o,a=this.choices;for(t=0;t<a.length;t++)if(a[t].value===e){i=_("SEARCH_COLUMN",a[t].label),o=a[t].value,n._getElement("column_search_root").addClass(D),n._getElement("column_search_current_column").val(o),n._getElement("search_field").attr({title:i,placeholder:i});break}},choices:o}),this.searchMenu.items=i,this.searchMenuCallback(),this.searchMenuCallback=null,this.searchMenu=null},_computationClear:function(){this._action("DELETE_COMPUTATION",{id:this._getDialogElement("comp_id").val()})},_computationSave:function(){$f_get_emptys([this._getId("column_heading"),this._getId("computation_expr")],"error","")||this._action("SAVE_COMPUTATION",{id:this._getDialogElement("comp_id").val(),value:this._getDialogElement("column_heading").val(),x06:this._getDialogElement("format_mask").val(),x07:this._getDialogElement("computation_expr").val()})},_computationShow:function(e){var t;t=e||this.computationId,this._controlsGet(H,t),this.computationId=null},_controlBreakOn:function(e){e&&(this.currentColumnId=e),this._action("BREAK",{id:this.currentColumnId})},_controlBreakSave:function(){var e,t=[];for(e=1;e<7;e++)t.push(this._getId("column")+"_0"+e),t.push(this._getId("enable")+"_0"+e);this._action("SAVE_BREAK",{f01:t,f02:this._utilGetFormElValues(t)})},_controlBreakToggle:function(e,t){this._action("BREAK_TOGGLE",{id:e,value:t})},_controlsFormatMask:function(t){this.tempReturnElement$=e(h(t)),this._controlsGet("FORMAT_MASK_LOV")},_controlsGet:function(e,t){this._dialogReset(),t&&(this.currentColumnId=t),this._get({widgetMod:"CONTROL",widgetAction:e,id:t})},_controlsNarrow:function(t){this.tempReturnElement$=e(h(t)),this._controlsGet("NARROW",this._getDialogElement("column_name").val())},_controlsRow:function(e){this._controlsGet("SHOW_DETAIL",e)},_dialogCheck:function(t,i){var o="."+g,n=this._dialogReset;t&&(o=t),i&&(n=i),this._on(this.document,{click:function(t){e(t.target).closest(o).length||n.call(this)}})},_dialogComp:function(e,t){var i=!isNaN(t)||"."===t;html_ReturnToTextSelection(t+"",e,i)},_dialogCurrentOperator:function(){var t=this._getDialogElement("column_name"),i=e(t.find("option")[t.prop("selectedIndex")]).attr("class");return this._getDialogElement(i+"_OPT")},_dialogColumnCheck:function(){var t=this._dialogCurrentOperator(),i=t.parents(".u-Form-fieldContainer");e(i).siblings().hide().end().show(),this._dialogOperatorCheck(t)},_dialogOpen:function(e,t){var i,o,n,a,l,s=0,c=720,_="",h=this,d=this._getElement(ne);function g(e,t,i,o,n){var a,r;a=i||ce.BUTTON.APPLY,o&&(r=C),l.push({text:a,class:r,click:function(){e?t.call(h,e):t.call(h),n&&h._getElement(ne).dialog("close")}})}switch(l=[{text:ce.BUTTON.CANCEL,click:function(){h._getElement(ne).dialog("close")}}],e){case G:o=ce.DIALOG_TITLE.SELECT_COLUMNS,_=u+"--selectColumns",c=480,g(null,h._columnDisplay,null,!0,!0);break;case P:o=ce.DIALOG_TITLE.FILTER,_=u+"--filter",s=230,(n=h._getDialogElement("filter_id").val())&&g(n,h._filterDelete,ce.BUTTON.DELETE,!1,!0),g(n,h._filterSave,null,!0,!1);break;case x:o=ce.DIALOG_TITLE.HIGHLIGHT,_=u+"--highlight",s=400,(n=h._getDialogElement("highlight_id").val())&&g(n,h._highlightClear,ce.BUTTON.DELETE,!1,!0),g(n,h._highlightSave,null,!0,!1);break;case M:o=ce.DIALOG_TITLE.SORT,_=u+"--sort",c=480,g(this,h._columnOrder,null,!0,!0);break;case N:o=ce.DIALOG_TITLE.CONTROL_BREAK,_=u+"--controlBreak",c=480,g(null,h._controlBreakSave,null,!0,!0);break;case H:o=ce.DIALOG_TITLE.COMPUTATION,_=u+"--computation",(n=h._getDialogElement("comp_id").val())&&g(null,h._computationClear,ce.BUTTON.DELETE,!1,!0),g(null,h._computationSave,null,!0,!1);break;case B:o=ce.DIALOG_TITLE.AGGREGATE,_=u+"--aggregate",c=480,(n=h._getDialogElement("aggregation").val())&&g(n,h._aggregateClear,ce.BUTTON.DELETE,!1,!0),g(null,h._aggregateSave,null,!0,!0);break;case V:o=ce.DIALOG_TITLE.CHART,_=u+"--chart",c=480,(n=h._getDialogElement("chart_type_hidden").val())&&g(null,h._chartClear,ce.BUTTON.DELETE,!1,!0),g(null,h._chartSave,null,!0,!1);break;case F:o=ce.DIALOG_TITLE.GROUP_BY,_=u+"--groupBy",c=720,(n=h._getDialogElement("group_by_id").val())&&g(null,h._groupByRemove,ce.BUTTON.DELETE,!1,!0),g(null,h._groupBySave,null,!0,!1);break;case U:o=ce.DIALOG_TITLE.GROUP_BY_SORT,_=u+"--groupBySort",c=480,g(this,h._groupBySort,null,!0,!0);break;case W:o=ce.DIALOG_TITLE.PIVOT,_=u+"--pivot",c=720,(n=h._getDialogElement("pivot_id").val())&&g(null,h._pivotRemove,ce.BUTTON.DELETE,!1,!0),g(null,h._pivotSave,null,!0,!1);break;case $:o=ce.DIALOG_TITLE.PIVOT_SORT,_=u+"--pivotSort",g(this,h._pivotSort,null,!0,!0);break;case Y:o=ce.DIALOG_TITLE.FLASHBACK,_=u+"--flashback",c=480,(n=h._getDialogElement("flashback_time").val())&&g(null,h._flashbackClear,ce.BUTTON.DELETE,!1,!0),g(null,h._flashbackSave,null,!0,!1);break;case ee:o=ce.DIALOG_TITLE.SAVE_REPORT,_=u+"--save",c=480,g(null,h._save,null,!0,!1);break;case K:o=ce.DIALOG_TITLE.RENAME_REPORT,_=u+"--rename",c=480,g(h.reportId,h._save,null,!0,!1);break;case j:o=ce.DIALOG_TITLE.DELETE_REPORT,_=u+"--delete",c=480,g(null,h._remove,null,!0,!0);break;case z:o=ce.DIALOG_TITLE.SAVE_DEFAULT_REPORT,_=u+"--saveDefault",c=480,g(null,h._saveDefault,null,!0,!1);break;case X:o=ce.DIALOG_TITLE.RENAME_DEFAULT_REPORT,_=u+"--renameDefault",c=480,g("RENAME_DEFAULT",h._saveDefault,null,!0,!1);break;case q:o=ce.DIALOG_TITLE.DELETE_DEFAULT_REPORT,_=u+"--deleteDefault",c=480,g("DELETE_DEFAULT",h._remove,null,!0,!0);break;case J:o=ce.DIALOG_TITLE.RESET,_=u+"--reset",c=320,g(null,h._reset,null,!0,!0);break;case Q:o=ce.DIALOG_TITLE.DOWNLOAD,_=u+"--download",c=480,g("DOWNLOAD",h._download,ce.BUTTON.DOWNLOAD,!0,!1);break;case Z:o=ce.DIALOG_TITLE.SUBSCRIPTION,_=u+"--subscription",n=h._getDialogElement("notify_id").val(),a=h._getDialogElement("email_not_configured").text(),n&&g(null,h._notifyClear,ce.BUTTON.DELETE,!1,!0),a||g(null,h._notifySave,null,!0,!1)}_=(u+" "+_).trim(),i=d.dialog({modal:!0,dialogClass:_,width:c,minHeight:s,title:o,buttons:l,position:{my:"left+10 top+10",at:"left top",of:this._getElement("content")},close:function(){h._off(i),i.dialog("destroy")},open:function(){r.dialogAutoHeight(d)}}),t&&t.call()},_dialogColumnHandlers:function(){this._on(this._getDialogElement("column_name"),{change:function(){this._dialogColumnCheck()}}),this._on(this._getElement(ne),{"change select.a-IRR-operator":function(t){this._dialogOperatorCheck(e(t.target))},"click button.a-IRR-button--menu":function(t){var i=e(t.currentTarget).data("picker-for");this._controlsNarrow(i)}})},_dialogOperatorCheck:function(t){var i,o=[],n=t.val(),a=t.data("column-type"),r=["is in the last","is not in the last","is in the next","is not in the next"];o[0]=$x(this._getId("expression")).parentNode,o[1]=$x(this._getId("expression2")).parentNode,o[2]=$x(this._getId("expression3")).parentNode,o[3]=$x(this._getId("between_from")).parentNode,o[4]=$x(this._getId("between_to")).parentNode,o[5]=$x(this._getId("and")),$x_Show_Hide(this._getId("expression_icon_link"),o),$x_Hide(o[5]),"is null"===n||"is not null"===n?this._getDialogElement("expression_container").hide():(this._getDialogElement("expression_container").show(),"DATE"===a&&-1===e.inArray(n,r)?($x_Show(o[3]),i=this._getDialogElement("column_name").find(":selected").data("format-mask"),this._setDateFieldFormatMask(this._getDialogElement("between_from"),i),this._getDialogElement("between_from").siblings(".ui-datepicker-trigger").addClass("a-Button a-Button--calendar"),"between"===n&&($x_Show(o[4]),$x_Show(o[5]),this._setDateFieldFormatMask(this._getDialogElement("between_to"),i),this._getDialogElement("between_to").siblings(".ui-datepicker-trigger").addClass("a-Button a-Button--calendar"))):($x_Show(o[0]),"between"===n&&($x_Show(o[5]),$x_Show(o[1])),e.inArray(n,r)>-1&&$x_Show_Hide(o[2],this._getId("expression_icon_link"))))},_dialogReset:function(){this.suppressUpdate||(this.currentColumnId=null,this.computationId=null,this._off(this.document,"click"))},_dialogUtilExpType:function(){var e={};return e.col=$x(this._getId("column_name")),e.col_type=e.col.options[e.col.selectedIndex].className,e.col_opt=$x(this._getId(e.col_type+"_OPT")),e.col_opt_val=$v(e.col_opt),"DATE"===e.col_type&&"is in the last"!==e.col_opt_val&&"is not in the last"!==e.col_opt_val&&"is in the next"!==e.col_opt_val&&"is not in the next"!==e.col_opt_val?e.form_items=[this._getId("between_from"),this._getId("between_to")]:e.form_items=[this._getId("expression"),this._getId("expression2")],e},_dialogValidate:function(){var e=[],t=this._dialogUtilExpType();switch(!0){case"between"===t.col_opt_val:e=[t.form_items[0],t.form_items[1]];break;case"is null"===t.col_opt_val||"is not null"===t.col_opt_val:e=[];break;case"is in the last"===t.col_opt_val||"is not in the last"===t.col_opt_val||"is in the next"===t.col_opt_val||"is not in the next"===t.col_opt_val:e=[t.form_items[0],this._getId("expression3")];break;default:e=[t.form_items[0]]}return!$f_get_emptys(e,"error","")&&t},_download:function(){var e,t=[this._getId("download_format")];$f_get_emptys(t,"error","")||(e=[this._getId("download_format"),this._getId("data_only"),this._getId("pdf_page_size"),this._getId("pdf_orientation"),this._getId("strip_rich_text"),this._getId("accessible")],this._action("GET_DOWNLOAD_LINK",{f01:e,f02:this._utilGetFormElValues(e)}))},_emailSend:function(){var e,t=[this._getId("email_to"),this._getId("download_format")];$f_get_emptys(t,"error","")||(e=[this._getId("email_to"),this._getId("email_cc"),this._getId("email_bcc"),this._getId("email_subject"),this._getId("email_body"),this._getId("download_format"),this._getId("data_only"),this._getId("pdf_page_size"),this._getId("pdf_orientation"),this._getId("strip_rich_text"),this._getId("accessible")],this._action("SEND_EMAIL",{f01:e,f02:this._utilGetFormElValues(e)}),this._getElement(ne).dialog("close"))},_emailShow:function(){var e,t=this,i=this._getElement(ne),o=this._getDialogElement("email"),n=this._getDialogElement("email_button");o.show(),n.show(),n.is(":visible")&&(e=[{text:ce.BUTTON.CANCEL,click:function(){i.dialog("close")}},{text:ce.BUTTON.SEND,class:C,click:function(){t._emailSend()}}],i.dialog("option","buttons",e))},_emailHide:function(){var e=this._getElement(ne),t=this,i=this._getDialogElement("email"),o=[{text:ce.BUTTON.CANCEL,click:function(){e.dialog("close")}},{text:ce.BUTTON.DOWNLOAD,class:C,click:function(){t._download()}}];i.hide(),e.dialog("option","buttons",o)},_filterDelete:function(e){this._action("FILTER_DELETE",{id:e})},_filterSave:function(t){var i,o,n="ADD",a=e("#"+this._getId("filter_type")).find("input:checked"),r=a.val(),l=a.attr("id");if(t?(this.currentColumnId=t,n="UPDATE"):t=this._getDialogElement("column_name").val(),"COLUMN"===r){if(!(i=this._dialogValidate()))return;o=[l,i.col.id,i.col_opt.id,i.form_items[0],i.form_items[1],this._getId("expression3")]}else o=[l,this._getId("filter_expr"),this._getId("filter_name")];this._action("FILTER",{widgetActionMod:n,f01:this._utilGetFormElValues(o),id:t})},_flashbackSave:function(){this._action("FLASHBACK_SET",{value:this._getDialogElement("flashback_time").val()})},_filterToggle:function(e,t){this._action("FILTER_TOGGLE",{id:e,value:t})},_flashbackClear:function(){this._action("FLASHBACK_CLEAR")},_flashbackToggle:function(){this._action("FLASHBACK_TOGGLE")},_functionControl:function(t){var i,o,n;t&&(o=(i=t.id).substr(i.length-2),n=-1!==e.inArray(e(t).val(),["SUM","AVG","MAX","MIN","MEDIAN","RATIO_TO_REPORT_SUM"]),this._getDialogElement("number_columns_container_"+o).toggle(n),this._getDialogElement("all_columns_container_"+o).toggle(!n))},_get:function(t){var i,a,r=this,s=!1,c=t.widgetMod,_=t.widgetAction,d=t.widgetActionMod,u=["SAVE_CHART","SAVE_COMPUTATION","FILTER","FLASHBACK_SET","GROUP_BY_SAVE","SAVE_HIGHLIGHT","CONTROL_MIN","SAVE_NOTIFY","SAVE_PIVOT","CHANGE_DETAIL_OPTION","FORMAT_MASK_LOV","NARROW"].includes(_);this.suppressUpdate=u,this.currentControl=_,"INFO"!==_&&this._sortWidgetHide(),c&&!u&&(["ACTION","PULL"].includes(c)||"CONTROL"===c&&"SHOW_DETAIL"===_)&&(s=!0),delete(i=e.extend({p_widget_name:"worksheet",p_widget_mod:c,p_widget_action:_,p_widget_action_mod:d,p_widget_num_return:r.options.currentRowsPerPage,x01:r.worksheetId,x02:r.reportId,x03:t.id,x04:t.value,pageItems:this.options.pageItems},t)).widgetMod,delete i.widgetAction,delete i.widgetActionMod,delete i.id,delete i.value,"RESET"!==i.p_widget_action&&"REPORT_CHANGED"!==i.p_widget_action||delete i.p_widget_num_return,i.p_widget_action_mod||delete i.p_widget_action_mod,a={dataType:"html",refreshObject:s?this.region$:null,loadingIndicator:r._getElement("worksheet_region"),loadingIndicatorPosition:"centered",success:function(t){var i,o,a,s,h;if("CONTROL"===c){if("SORT_WIDGET"===_)r._sortWidgetShow(t);else if("INFO"===_)r._helpWidgetShow(t);else if("NARROW"===_)i=r._inlinePicker("NARROW",t);else if("FORMAT_MASK_LOV"===_)i=r._inlinePicker("FORMAT_MASK_LOV",t);else if("SEARCH_COLUMN"===_)r._columnSearchShow(t);else if("SHOW_DETAIL"===_)r._singleRowViewShow(t);else{switch(_){case P:o=function(){var t=r._getElement(ne);r._dialogColumnCheck(),r._dialogColumnHandlers(),r._on(r._getDialogElement("filter_type"),{"click input":function(e){var t="COLUMN"===e.target.value;r._getDialogElement("column_filter").toggle(t),r._getDialogElement("row_filter").toggle(!t)}}),r._on(r._getDialogElement("filter_expr_clear"),{click:function(e){r._getDialogElement("filter_expr").val(""),e.preventDefault()}}),r._on(r._getDialogElement("row_filter_columns"),{"click li":function(t){var i=e(t.currentTarget).data("column-id");r._dialogComp(r._getId("filter_expr"),i),t.preventDefault()}}),r._on(r._getDialogElement("row_filter_operators"),{"click li":function(t){var i=e(t.currentTarget).data("operator");r._dialogComp(r._getId("filter_expr"),i),t.preventDefault()}}),t.find(".a-IRR-dialogContent").show()};break;case x:o=function(){var e=r._getElement(ne).find(".a-IRR-dialogContent"),t=r._getDialogElement("bg_color"),i=r._getDialogElement("font_color");r._dialogColumnCheck(),r._dialogColumnHandlers(),r._on(t.add(i),{change:function(){let e,o=r._getDialogElement("_contrast"),n=t[0].getValue()||"#ffffff",a=i[0],l=a.getValue()||"#000000";r._getDialogElement("highlight_preview").css({backgroundColor:n,color:l}),e=a.contrastWith(n),apex.widget.util.colorPicker.updateColorContrastReport(o,e)}}),e.find(".a-IRR-highlightContrast").html(apex.widget.util.colorPicker.renderColorContrastReport(r._getId("_contrast"))),e.show(),apex.item.attach(e),t.trigger("change")};break;case V:o=function(){r._chartControl(),r._on(r._getDialogElement("chart_type"),{"click input":function(){r._chartControl()}})};break;case H:o=function(){r._on(r._getDialogElement("comp_id"),{change:function(t){r._computationShow(e(t.currentTarget).val())}}),r._on(r._getDialogElement("format_mask_picker"),{click:function(e){r._controlsFormatMask(r._getId("format_mask")),e.preventDefault()}}),r._on(r._getDialogElement("computation_expr_clear"),{click:function(e){r._getDialogElement("computation_expr").val(""),e.preventDefault()}}),r._on(r._getDialogElement("computation_columns"),{"click li":function(t){var i=e(t.currentTarget).data("column-id");r._dialogComp(r._getId("computation_expr"),i),t.preventDefault()}}),r._on(r._getDialogElement("computation_keypad"),{"click button":function(t){var i=e(t.currentTarget).data("key");r._dialogComp(r._getId("computation_expr"),i),t.preventDefault()}}),r._on(r._getDialogElement("computation_functions"),{"click li":function(t){var i=e(t.currentTarget).data("function");r._dialogComp(r._getId("computation_expr"),i),t.preventDefault()}}),r._getDialogElement("compute_examples_container").collapsible({controllingElement:"button",content:"#"+r._getId("compute_examples"),collapsed:!0})};break;case G:o=function(){r.g_Shuttlep_v01=null,window.g_Shuttlep_v01=new dhtml_ShuttleObject($x(r._getId("shuttle_left")),$x(r._getId("shuttle_right")))};break;case ee:o=function(){r._on(r._getDialogElement("save_option"),{change:function(e){r._controlsGet(e.target.value)}})};break;case z:case X:o=function(){r._on(r._getDialogElement("default_type"),{"click input":function(e){this._saveDefaultTypeCheck(e.target.value)}}),r._saveDefaultTypeCheck($v(r._getId("default_type")))};break;case B:o=function(){r._on(r._getDialogElement("aggregation"),{change:function(t){this._controlsGet(B,e(t.currentTarget).val())}}),r._on(r._getDialogElement("aggregate_by"),{change:function(){this._aggregateControl()}})};break;case Z:case Q:o=function(){const t=r._getDialogElement("download_format").val();let o;r._getDialogElement("download_formats").iconList({selectionChange:function(){r._getDialogElement("download_format").val(e(this).iconList("getSelectionValues")[0]).trigger("change")}}),t&&(o=r._getDialogElement("download_formats").find(`.a-IRR-iconList-item[data-value='${t}']`)),o&&0!==o.length||(o=r._getDialogElement("download_formats").find(".a-IRR-iconList-item").first()),o.trigger("click"),i=o,r._on(r._getDialogElement("download_format"),{change:function(){const e=r._getDialogElement("download_format");[{id:"pdf_container",active:e=>"PDF"===e},{id:"strip_rich_text_container",active:e=>["CSV","XLSX"].includes(e)},{id:"data_only_container",active:e=>"CSV"!==e}].forEach((t=>{t.active(e.val())?r._getDialogElement(t.id).show():r._getDialogElement(t.id).hide()}))}}),_===Q&&r._on(r._getDialogElement("send_as_email"),{change:function(){r._getDialogElement("send_as_email").is(":checked")?r._emailShow():r._emailHide()}})};break;case F:o=function(){r._on(r._getDialogElement("add_column"),{click:function(e){this._utilAddMoreColumn(this._groupByMaxValue,f),e.preventDefault()}}),r._on(r._getDialogElement("group_by_functions"),{"change select.a-IRR-function":function(e){this._functionControl(e.target)},"click button.a-Button--menu":function(t){r._controlsFormatMask(e(t.currentTarget).data("picker-for")),t.preventDefault()}}),r._on(r._getDialogElement("add_function"),{click:function(e){this._utilAddMoreFunction(this._groupByMaxValue),e.preventDefault()}})};break;case W:o=function(){r._on(r._getDialogElement("add_pivot_column"),{click:function(e){this._utilAddMoreColumn(this._pivotMaxValue,b),e.preventDefault()}}),r._on(r._getDialogElement("add_row_column"),{click:function(e){this._utilAddMoreColumn(this._pivotMaxValue,w),e.preventDefault()}}),r._on(r._getDialogElement("pivot_functions"),{"change select.a-IRR-function":function(e){this._functionControl(e.target)},"click a.a-IRR-format-mask-picker":function(t){r._controlsFormatMask(e(t.currentTarget).data("picker-for")),t.preventDefault()},"click button.a-Button--menu":function(t){r._controlsFormatMask(e(t.currentTarget).data("picker-for")),t.preventDefault()}}),r._on(r._getDialogElement("add_function"),{click:function(e){this._utilAddMoreFunction(this._pivotMaxValue),e.preventDefault()}})}}r._getElement(ne).html(t),r._dialogOpen(_,o)}void 0===i&&(i=e(":input:visible",r._getElement(ne))),i.length>0&&i[0].focus()}else if("GET_DOWNLOAD_LINK"===_)try{const e=JSON.parse(t);l.showErrors({message:e.error,location:"page"})}catch{n.redirect(t,r.options.downloadContentDisposition===se)}else u?r.lastFunction=function(){r._validAction(t)}:((a=e($u_js_temp_drop())).html(t),s=a.find(r._getIdSelector("toolbar_controls")),h=a.find(r._getIdSelector("content")),r._getElement("toolbar_controls",r.element).replaceWith(s),r._getElement("content",r.element).replaceWith(h),r.options.currentRowsPerPage=1*r._getElement("row_select").val(),r.viewMode=r._getElement("view_mode").val(),r._initToolbar(),r._initControlPanel(),r.reportId=r._getElement("report_id").val(),r._singleRowViewHide(),r._getElement("full_view").show(),a.remove(),r._initFixedHeader(!0),e(":focus").length||(i=r.currentElementId?e("#"+r.currentElementId):r.element.find(":focusable")).length>0&&i[0].focus())},complete:function(){r.lastFunction&&(r.lastFunction(),r.lastFunction=!1),e(h(r.options.regionId+"_toolbar"),apex.gPageContext$).css("visibility",""),e(h(r.options.regionId+"_content"),apex.gPageContext$).removeClass("is-loading"),"SEARCH_COLUMN"===_&&r.searchMenuCallback&&(r.searchMenuCallback(!1),r.searchMenuCallback=null,r.searchMenu=null)}},o.plugin(this.options.ajaxIdentifier,i,a)},_getId:function(e){return this.idPrefix+"_"+e},_getIdSelector:function(e){return h(this._getId(e))},_getElement:function(t,i){var o;return o=i||(t===ne||/^sort_widget.*$/.test(t)?apex.gPageContext$:this.element),e(this._getIdSelector(t),o)},_getDialogElement:function(e){return this._getElement(e,this._getElement(ne))},_groupByMaxValue:8,_groupByRemove:function(){this._action("GROUP_BY_REMOVE")},_groupBySave:function(){var e=this._utilGetFormElAttributes();this._action("GROUP_BY_SAVE",{f01:e.ids,f02:e.values})},_groupBySort:function(e){var t,i=this._getDialogElement("group_by_id").val();e===ie||e===oe?(this.lastColumnId=e.id,this._action("GROUP_BY_COLUMN_SORT",{id:i,f01:this.lastColumnId,f02:e})):(t=this._utilGetFormElAttributes(),this._action("GROUP_BY_SORT",{id:i,f01:t.ids,f02:t.values}))},_groupByView:function(){this._action("VIEW_GROUP_BY")},_helpWidgetShow:function(t){const i=this._getId("sort_widget_help"),o=this._getElement("sort_widget_action_help").find("button.a-IRR-sortWidget-button");e(o).hasClass(D)?(this._getElement("sort_widget_help").empty().hide(),o.removeClass(D).attr(_e,"false").removeAttr(he).removeAttr(de).removeAttr(ue)):(this._getElement("sort_widget_help").html("<div role='alert'>"+t+"</div>").show(),o.addClass(D).attr(_e,"true").attr(he,i).attr(de,i).attr(ue,i)),this.lastColumnId=this.currentColumnId,this._dialogCheck(null,this._sortWidgetHide)},_highlightClear:function(e){var t;t=e||$x("HIGHLIGHT_ID").value,this._action("CLEAR_HIGHLIGHT",{id:t})},_highlightSave:function(){var e,t=this._dialogValidate();t&&(e=this._utilGetFormElAttributes(),this._action("SAVE_HIGHLIGHT",{f01:e.ids,f02:e.values}),t=null)},_highlightToggle:function(e,t){this._action("TOGGLE_HIGHLIGHT",{id:e,value:t})},_initControlPanel:function(){var t=this;this._on(this._getElement("control_panel"),{"click a.a-IRR-controlsLabel":function(i){var o=e(i.currentTarget);switch(o.data("setting")){case"filter":this._controlsGet(P,o.data("filter-id"));break;case"report":this._controlsGet(K);break;case"report-default":this._controlsGet(X);break;case"highlight":this._controlsGet(x,o.data("highlight-id"));break;case"break":this._controlsGet(N);break;case"chart":this._controlsGet(V);break;case"group_by":this._controlsGet(F);break;case"pivot":this._controlsGet(W);break;case"flashback":t._controlsGet(Y)}i.preventDefault()},"click button.a-IRR-button--edit":function(i){var o=e(i.currentTarget);switch(o.data("setting")){case"filter":this._controlsGet(P,o.data("filter-id"));break;case"report":this._controlsGet(K);break;case"report-default":this._controlsGet(X);break;case"highlight":this._controlsGet(x,o.data("highlight-id"));break;case"break":this._controlsGet(N);break;case"chart":this._controlsGet(V);break;case"group_by":this._controlsGet(F);break;case"pivot":this._controlsGet(W);break;case"flashback":t._controlsGet(Y)}i.preventDefault()},"click a.a-IRR-reportSummary-label":function(i){var o=e(i.currentTarget);switch(o.data("setting")){case"filter":this._controlsGet(P,o.data("filter-id"));break;case"report":this._controlsGet(K);break;case"report-default":this._controlsGet(X);break;case"highlight":this._controlsGet(x,o.data("highlight-id"));break;case"break":this._controlsGet(N);break;case"chart":this._controlsGet(V);break;case"group-by":this._controlsGet(F);break;case"pivot":this._controlsGet(W);break;case"flashback":t._controlsGet(Y);break;default:t._getElement("control_panel").collapsible("expand")}i.preventDefault()},"click input.a-IRR-controlsCheckbox":function(t){var i=e(t.target),o=i.prop(ae)?"Y":"N";switch(i.data("setting")){case"break":this._controlBreakToggle(i.data("break-column"),o);break;case"filter":this._filterToggle(i.data("filter-id"),o);break;case"highlight":this._highlightToggle(i.data("highlight-id"),o);break;case"flashback":this._flashbackToggle()}},"click button.a-IRR-button--remove":function(t){var i=e(t.currentTarget);switch(i.data("setting")){case"break":this._controlBreakOn(i.data("break-column"));break;case"filter":this._filterDelete(i.data("filter-id"));break;case"report":this._controlsGet(j);break;case"report-default":this._controlsGet(q);break;case"highlight":this._highlightClear(i.data("highlight-id"));break;case"flashback":this._flashbackClear();break;case"chart":this._chartClear();break;case"group-by":this._groupByRemove();break;case"pivot":this._pivotRemove()}t.preventDefault()}}),this._getElement("control_panel").collapsible({content:"div.a-MediaBlock-content",collapsed:t.options.isControlPanelCollapsed,collapse:function(){t.options.isControlPanelCollapsed||(t.options.isControlPanelCollapsed=!0,t._action("CONTROL_MIN",{value:"Y"})),t._getElement("control_panel_summary").show()},expand:function(){t.options.isControlPanelCollapsed&&(t.options.isControlPanelCollapsed=!1,t._action("CONTROL_MIN",{value:"N"})),t._getElement("control_panel_summary").hide()},renderIcon:!1})},_initFixedHeader:function(t){var i,o=this.options;if((o.fixedHeader===re||o.fixedHeader===le)&&0===e(".a-IRR-header--group",this.element).length){switch(this.viewMode){case k:o.reportViewMode===k&&(i="a-IRR-reportView");break;case S:i="a-IRR-groupByView"}if(i){if(0===e(this.element).find(".a-IRR-iconViewTable").length)switch(o.fixedHeader){case re:e("."+i,this.element).setTableHeadersAsFixed(),e(".js-stickyTableHeader",this.element).stickyWidget({toggleWidth:!0,stickToEnd:!0});break;case le:e("."+i,this.element).setTableHeadersAsFixed({maxHeight:o.fixedHeaderMaxHeight})}t&&e(window).trigger("apexwindowresized")}}},_initMenus:function(){var t,i,o=this,a=this.options,r=[1,5,10,15,20,25,50,100,1e3];function l(e,t){for(i=0;i<e.length;i++)if(e[i].id===t)return e[i]}function s(e,t){var i,o=e?1*e:null,n=t?1*t:null;return e&&t?i=o<n?o:n:e?t||(i=o):i=n,i}t="IG"===a.actionsMenuStructure?{items:[{id:"irColumn",type:te,label:c("COLUMNS"),hide:!0,icon:"icon-irr-select-cols",action:function(){o._controlsGet(G,"COLUMN")}},{type:"separator"},{id:"irFilter",type:te,label:c("FILTER"),hide:!0,icon:"icon-irr-filter",action:function(){o._controlsGet(P)}},{id:"irData",type:"subMenu",label:c("DATA"),hide:!1,icon:"icon-ig-data",menu:{items:[{id:"irOrdering",type:te,label:c("SORT"),hide:!0,icon:"icon-irr-sort",action:function(){o._controlsGet(M)}},{id:"irGroupBySort",type:te,label:c("GROUP_BY_SORT"),hide:!0,icon:"icon-irr-sort",action:function(){o._controlsGet(U)}},{id:"irPivotSort",type:te,label:c("PIVOT_SORT"),hide:!0,icon:"icon-irr-sort",action:function(){o._controlsGet($)}},{id:"irAggregate",type:te,label:c("AGGREGATE"),hide:!0,icon:"icon-irr-aggregate",action:function(){o._controlsGet(B)}},{id:"irCompute",type:te,label:c("COMPUTE"),hide:!0,icon:"icon-irr-compute",action:function(){o._computationShow()}},{id:"irFlashback",type:te,label:c("FLASHBACK"),hide:!0,icon:"icon-irr-flashback",action:function(){o._controlsGet(Y)}}]}},{id:"irFormat",type:"subMenu",label:c("FORMAT"),hide:!1,icon:"icon-irr-format",menu:{items:[{id:"irCtrlBreak",type:te,label:c("CONTROL_BREAK"),hide:!0,icon:"icon-irr-control-break",action:function(){o._controlsGet(N)}},{id:"irHighlight",type:te,label:c("HIGHLIGHT"),hide:!0,icon:"icon-irr-highlight",action:function(){o._controlsGet(x)}},{id:"irRowsPerPage",type:"subMenu",label:c("ROWS_PER_PAGE"),hide:!0,icon:"icon-irr-rows",menu:{items:[{type:"radioGroup",set:function(e){o.options.currentRowsPerPage=1*e,o._search("SEARCH")},get:function(){return o.options.currentRowsPerPage},choices:[]}]}}]}},{type:"separator"},{id:"irChart",type:te,label:c("CHART"),hide:!0,icon:"icon-irr-chart",action:function(){o._controlsGet(V)}},{id:"irGroupBy",type:te,label:c("GROUP_BY"),hide:!0,icon:"icon-irr-group-by",action:function(){o._controlsGet(F)}},{id:"irPivot",type:te,label:c("PIVOT"),hide:!0,icon:"icon-irr-pivot",action:function(){o._controlsGet(W)}},{type:"separator"},{id:"irReport",type:"subMenu",label:c("REPORT"),hide:!1,icon:"icon-irr-saved-report",menu:{items:[{id:"irSaveReport",type:te,label:c("SAVE_REPORT"),hide:!0,icon:"icon-ig-save",action:function(){o._controlsGet(ee)}},{id:"irSaveDefault",type:te,label:c("SAVE_REPORT_DEFAULT"),hide:!0,icon:"icon-ig-save",action:function(){o._controlsGet(z)}},{type:"separator"},{id:"irReset",type:te,label:c("RESET"),hide:!0,icon:"icon-irr-reset",action:function(){o._controlsGet(J)}}]}},{type:"separator"},{id:"irDownload",type:te,label:c("DOWNLOAD"),hide:!0,icon:"icon-irr-download",action:function(){o._controlsGet(Q)}},{id:"irNotify",type:te,label:c("SUBSCRIPTION"),hide:!0,icon:"icon-irr-subscription",action:function(){o._controlsGet(Z)}},{type:"separator"},{id:"irHelp",type:te,label:c("HELP"),hide:!0,icon:"icon-irr-help",action:function(){n.popup.url(o.options.helpLink)}}],beforeOpen:function(t,n){var _,h,d,u=n.menu.items,g=l(u,"irData"),p=g.menu.items,f=l(p,"irOrdering"),m=l(p,"irAggregate"),E=l(p,"irFlashback"),v=l(p,"irCompute"),R=l(p,"irGroupBySort"),T=l(p,"irPivotSort"),I=l(u,"irFormat"),b=I.menu.items,w=l(b,"irCtrlBreak"),O=l(b,"irHighlight"),A=l(b,"irRowsPerPage"),C=l(u,"irReport"),D=C.menu.items;if(o._dialogReset(),o._sortWidgetHide(),l(u,"irColumn").hide=!(a.selectColumns&&o.viewMode===k),l(u,"irFilter").hide=!a.filter,g.hide=!0,o.viewMode===k?(a.sort||a.aggregate||a.flashback||a.compute)&&(g.hide=!1,f.hide=!a.sort,m.hide=!a.aggregate,E.hide=!a.flashback,v.hide=!a.compute,R.hide=!0,T.hide=!0):o.viewMode===S?a.groupBy&&(g.hide=!1,f.hide=!0,m.hide=!0,E.hide=!a.flashback,v.hide=!0,R.hide=!1,T.hide=!0):o.viewMode===L?a.pivot&&(g.hide=!1,f.hide=!0,m.hide=!0,E.hide=!a.flashback,v.hide=!0,R.hide=!0,T.hide=!1):o.viewMode===y&&(g.hide=!1,f.hide=!0,m.hide=!0,E.hide=!a.flashback,v.hide=!0,R.hide=!0,T.hide=!0),I.hide=!0,o.viewMode===k?(a.controlBreak||a.highlight)&&(I.hide=!1,w.hide=!a.controlBreak,O.hide=!a.highlight,A.hide=!a.rowsPerPage):o.viewMode===S?a.groupBy&&(I.hide=!1,w.hide=!0,O.hide=!0,A.hide=!a.rowsPerPage):o.viewMode===L?a.pivot&&(I.hide=!1,w.hide=!0,O.hide=!0,A.hide=!a.rowsPerPage):o.viewMode===y&&(I.hide=!1,w.hide=!0,O.hide=!0,A.hide=!a.rowsPerPage),a.rowsPerPage){for((A=l(b,"irRowsPerPage")).menu.items[0].choices=[],h=A.menu.items[0].choices,d=s(a.maxRowsPerPage,a.maxRowCount),i=0;i<r.length&&(_=r[i],!(d&&_>d));i++)h.push({label:""+_,value:_});a.maxRowsPerPage||h.push({label:c("ALL"),value:1e5})}o.viewMode===k?(a.chart||a.groupBy||a.pivot)&&(l(u,"irChart").hide=!a.chart,l(u,"irGroupBy").hide=!a.groupBy,l(u,"irPivot").hide=!a.pivot):o.viewMode===S?a.groupBy&&(l(u,"irChart").hide=!0,l(u,"irGroupBy").hide=!1,l(u,"irPivot").hide=!0):o.viewMode===L?a.pivot&&(l(u,"irChart").hide=!0,l(u,"irGroupBy").hide=!0,l(u,"irPivot").hide=!1):o.viewMode===y&&(l(u,"irChart").hide=!1,l(u,"irGroupBy").hide=!0,l(u,"irPivot").hide=!0),C.hide=!0,(a.saveReport||a.saveDefaultReport||a.reset)&&(C.hide=!1,l(D,"irSaveReport").hide=!a.saveReport,l(D,"irSaveDefault").hide=!a.saveDefaultReport,l(D,"irReset").hide=!a.reset),l(u,"irDownload").hide=!(a.download&&-1!==e.inArray(o.viewMode,[k,S,L])),l(u,"irNotify").hide=!(a.subscription&&-1!==e.inArray(o.viewMode,[k,S,L])),l(u,"irHelp").hide=!a.help}}:{items:[{id:"irColumn",type:te,label:c("SELECT_COLUMNS"),hide:!0,icon:"icon-irr-select-cols",action:function(){o._controlsGet(G,"COLUMN")}},{type:"separator"},{id:"irFilter",type:te,label:c("FILTER"),hide:!0,icon:"icon-irr-filter",action:function(){o._controlsGet(P)}},{id:"irRowsPerPage",type:"subMenu",label:c("ROWS_PER_PAGE"),hide:!0,icon:"icon-irr-rows",menu:{items:[{type:"radioGroup",set:function(e){o.options.currentRowsPerPage=1*e,o._search("SEARCH")},get:function(){return o.options.currentRowsPerPage},choices:[]}]}},{id:"irFormat",type:"subMenu",label:c("FORMAT"),hide:!1,icon:"icon-irr-format",menu:{items:[{id:"irOrdering",type:te,label:c("SORT"),hide:!0,icon:"icon-irr-sort",action:function(){o._controlsGet(M)}},{id:"irCtrlBreak",type:te,label:c("CONTROL_BREAK"),hide:!0,icon:"icon-irr-control-break",action:function(){o._controlsGet(N)}},{id:"irHighlight",type:te,label:c("HIGHLIGHT"),hide:!0,icon:"icon-irr-highlight",action:function(){o._controlsGet(x)}},{id:"irCompute",type:te,label:c("COMPUTE"),hide:!0,icon:"icon-irr-compute",action:function(){o._computationShow()}},{id:"irAggregate",type:te,label:c("AGGREGATE"),hide:!0,icon:"icon-irr-aggregate",action:function(){o._controlsGet(B)}},{id:"irChart",type:te,label:c("CHART"),hide:!0,icon:"icon-irr-chart",action:function(){o._controlsGet(V)}},{id:"irGroupBySort",type:te,label:c("GROUP_BY_SORT"),hide:!0,icon:"icon-irr-sort",action:function(){o._controlsGet(U)}},{id:"irGroupBy",type:te,label:c("GROUP_BY"),hide:!0,icon:"icon-irr-group-by",action:function(){o._controlsGet(F)}},{id:"irPivotSort",type:te,label:c("PIVOT_SORT"),hide:!0,icon:"icon-irr-sort",action:function(){o._controlsGet($)}},{id:"irPivot",type:te,label:c("PIVOT"),hide:!0,icon:"icon-irr-pivot",action:function(){o._controlsGet(W)}}]}},{type:"separator"},{id:"irFlashback",type:te,label:c("FLASHBACK"),hide:!0,icon:"icon-irr-flashback",action:function(){o._controlsGet(Y)}},{type:"separator"},{id:"irSaveReport",type:te,label:c("SAVE_REPORT"),hide:!0,icon:"icon-irr-saved-report",action:function(){o._controlsGet(ee)}},{id:"irSaveDefault",type:te,label:c("SAVE_REPORT_DEFAULT"),hide:!0,icon:"icon-irr-saved-report",action:function(){o._controlsGet(z)}},{id:"irReset",type:te,label:c("RESET"),hide:!0,icon:"icon-irr-reset",action:function(){o._controlsGet(J)}},{type:"separator"},{id:"irHelp",type:te,label:c("HELP"),hide:!0,icon:"icon-irr-help",action:function(){n.popup.url(o.options.helpLink)}},{type:"separator"},{id:"irDownload",type:te,label:c("DOWNLOAD"),hide:!0,icon:"icon-irr-download",action:function(){o._controlsGet(Q)}},{id:"irNotify",type:te,label:c("SUBSCRIPTION"),hide:!0,icon:"icon-irr-subscription",action:function(){o._controlsGet(Z)}}],beforeOpen:function(t,n){var _,h,d,u,g=n.menu.items,p=l(g,"irFormat"),f=p.menu.items,m=l(f,"irOrdering"),E=l(f,"irCtrlBreak"),v=l(f,"irHighlight"),R=l(f,"irCompute"),T=l(f,"irAggregate"),I=l(f,"irChart"),b=l(f,"irGroupBySort"),w=l(f,"irGroupBy"),O=l(f,"irPivotSort"),A=l(f,"irPivot");if(o._dialogReset(),o._sortWidgetHide(),l(g,"irColumn").hide=!(a.selectColumns&&o.viewMode===k),l(g,"irFilter").hide=!a.filter,l(g,"irRowsPerPage").hide=!a.rowsPerPage,p.hide=!0,o.viewMode===k?(a.sort||a.controlBreak||a.highlight||a.compute||a.aggregate||a.chart||a.groupBy||a.pivot)&&(p.hide=!1,m.hide=!a.sort,E.hide=!a.controlBreak,v.hide=!a.highlight,R.hide=!a.compute,T.hide=!a.aggregate,I.hide=!a.chart,b.hide=!0,w.hide=!a.groupBy,O.hide=!0,A.hide=!a.pivot):o.viewMode===S?a.groupBy&&(p.hide=!1,m.hide=!0,E.hide=!0,v.hide=!0,R.hide=!0,T.hide=!0,I.hide=!0,b.hide=!1,w.hide=!1,O.hide=!0,A.hide=!0):o.viewMode===L?a.pivot&&(p.hide=!1,m.hide=!0,E.hide=!0,v.hide=!0,R.hide=!0,T.hide=!0,I.hide=!0,b.hide=!0,w.hide=!0,O.hide=!1,A.hide=!1):o.viewMode===y&&(p.hide=!1,m.hide=!0,E.hide=!0,v.hide=!0,R.hide=!0,T.hide=!0,I.hide=!1,b.hide=!0,w.hide=!0,O.hide=!0,A.hide=!0),l(g,"irFlashback").hide=!a.flashback,l(g,"irSaveReport").hide=!a.saveReport,l(g,"irSaveDefault").hide=!a.saveDefaultReport,l(g,"irReset").hide=!a.reset,l(g,"irHelp").hide=!a.help,l(g,"irDownload").hide=!(a.download&&-1!==e.inArray(o.viewMode,[k,S,L])),l(g,"irNotify").hide=!(a.subscription&&-1!==e.inArray(o.viewMode,[k,S,L])),a.rowsPerPage){for((h=l(g,"irRowsPerPage")).menu.items[0].choices=[],d=h.menu.items[0].choices,u=s(a.maxRowsPerPage,a.maxRowCount),i=0;i<r.length&&(_=r[i],!(u&&_>u));i++)d.push({label:""+_,value:_});a.maxRowsPerPage||d.push({label:c("ALL"),value:1e5})}}},a.toolbar&&a.actionsMenu&&o._getElement("actions_menu").menu(t)},_initOnCreate:function(){function t(t){this.currentElementId=e(t.target).attr("id")}var i=this.options,o=this;i.toolbar&&this._initToolbar(!0),this._initControlPanel(),e(document.body).append(this._getElement("sort_widget")),this._on(this.element,{focusin:t,"click button, input[type=checkbox]":t}),this._on(this.element,{"click a.a-IRR-headerLink":function(t){this.viewMode===k?this._controlsGet("SORT_WIDGET",e(t.currentTarget).data("column")):this.viewMode===S?this._controlsGet(U):this.viewMode===L&&this._controlsGet($),t.preventDefault()}}),this._on(this.element,{"click button.a-IRR-button--pagination":function(t){i.detailLink&&"SHOW_DETAIL"===this.currentControl?this._controlsRow(e(t.currentTarget).data("row-id")):i.pagination&&this._paginate(e(t.currentTarget).data("pagination"))},"click a.a-IRR-pagination-reset":function(e){this._search("SEARCH"),e.preventDefault()}}),i.pagination&&this._on(this.element,{"click a.a-IRR-pagination-reset":function(e){this._search("SEARCH"),e.preventDefault()}}),i.detailLink&&this._on(this.element,{"click a.a-IRR-detail-row":function(t){this._controlsRow(e(t.currentTarget).data("row-id")),t.preventDefault()}}),this._initFixedHeader(),apex.widget.util.onVisibilityChange(this.element[0],(function(e){e&&(o.element.find(".js-stickyTableHeader").trigger("forceresize"),o.needsLazyLoading&&(o.needsLazyLoading=!1,o.refresh()))}))},_initToolbar:function(t){var i=this.options,o=this;i.searchField&&(this._on(this._getElement("search_field"),{keydown:function(t){t.which===e.ui.keyCode.ENTER&&(this._search("SEARCH"),t.preventDefault())}}),this._on(this._getElement("search_button"),{click:function(e){this._search("SEARCH"),e.preventDefault()}}),i.columnSearch&&t&&this._getElement("column_search_drop").menu({asyncFetchMenu:function(e,t){o.searchMenu=e,o.searchMenuCallback=t,o._controlsGet("SEARCH_COLUMN")},afterClose:function(e,t){t.actionTaken&&setTimeout((function(){o._getElement("search_field").trigger("focus")}),100)},items:[]})),i.rowsPerPageSelect&&this._on(this._getElement("row_select"),{change:function(e){var t=e.target.value;this._search("SEARCH",t),e.preventDefault()}}),i.reportsSelect&&this._on(this._getElement("saved_reports"),{change:function(e){var t=e.target.value;this._pull("REPORT_CHANGED",t),e.preventDefault()}}),this._on(this._getElement("toolbar_controls"),{"click .a-IRR-button--views":function(t){switch(e(t.currentTarget).data("view")){case"report":this._reportView(k);break;case"icon":this._reportView("ICON");break;case"details":this._reportView("DETAIL");break;case"chart":this._chartView();break;case"group_by":this._groupByView();break;case"pivot":this._pivotView()}}}),i.actionsMenu&&t&&this._initMenus()},_inlinePicker:function(i,o){var n,a,r=t.htmlBuilder(),l=JSON.parse(o),s=e("[data-picker-for="+t.escapeCSS(this.tempReturnElement$.attr("id"))+"]",this._getElement(ne)),c=e("body"),_=e("#"+this.tempReturnElement$.attr("id"));for(r.markup("<div").attr("id",this._getId("col_values_drop")).attr("class","a-IRR-col-values-drop").attr("style","top: "+(_.offset().top+_.outerHeight())+"px; left:"+_.offset().left+"px").markup(">"),n=0;n<l.row.length;n++)r.markup("<a").attr("href","#").attr("class",O).attr("data-return-value",l.row[n].R).markup(">").markup(l.row[n].D).markup("</a>");return r.markup("</div>"),c.after(r.toString()),a=e("#"+this._getId("col_values_drop")),"NARROW"===i?this._on(a,{"click a.a-IRR-col-value":function(t){var i,o=e(t.currentTarget).data("returnValue"),n=this._dialogCurrentOperator().val();"in"===n||"not in"===n?((i=this.tempReturnElement$.val())&&(o=i+","+o),this.tempReturnElement$.val(o)):(this.tempReturnElement$.val(o),a.remove(),this.tempReturnElement$.trigger("focus")),t.preventDefault()}}):this._on(a,{"click a.a-IRR-col-value":function(t){var i=e(t.currentTarget).data("returnValue");this.tempReturnElement$.val(i),a.remove(),this.tempReturnElement$.trigger("focus"),t.preventDefault()}}),this._on(a,{"keydown a":function(t){var i=a.find("a"),o=i.index(e(t.target)),n=i.length-1;switch(i.attr("tabindex",-1),t.which){case e.ui.keyCode.DOWN:o<n?i.eq(o+1).trigger("focus"):i.eq(0).trigger("focus"),t.preventDefault();break;case e.ui.keyCode.UP:o>0?i.eq(o-1).trigger("focus"):i.eq(n).trigger("focus"),t.preventDefault();break;case e.ui.keyCode.TAB:a.remove(),s.trigger("focus"),t.preventDefault();break;case e.ui.keyCode.ESCAPE:a.remove(),s.trigger("focus"),t.stopImmediatePropagation()}}}),this._dialogCheck(this._getIdSelector("col_values_drop"),(function(){a.remove()})),a.find("a:first")},_paginate:function(e){this._action(re,{widgetActionMod:e})},_notifyClear:function(){this._action("DELETE_NOTIFY",{id:this._getDialogElement("notify_id").val()})},_notifySave:function(){var e=[this._getId("notify_id"),this._getId("email_address"),this._getId("email_subject"),this._getId("notify_interval"),this._getId("skip_if_ndf"),this._getId("start_date"),this._getId("end_date"),this._getId("download_format"),this._getId("data_only"),this._getId("pdf_page_size"),this._getId("pdf_orientation"),this._getId("strip_rich_text"),this._getId("accessible")],t=[this._getId("download_format")];$f_get_emptys(t,"error","")||this._action("SAVE_NOTIFY",{f01:e,f02:this._utilGetFormElValues(e)})},_pivotMaxValue:3,_pivotRemove:function(){this._action("DELETE_PIVOT")},_pivotSave:function(){var e=this._utilGetFormElAttributes();this._action("SAVE_PIVOT",{f01:e.ids,f02:e.values})},_pivotSort:function(e){var t,i=this._getDialogElement("pivot_id").val();e===ie||e===oe?(this.lastColumnId=e.id,this._action("PIVOT_COLUMN_SORT",{id:i,f01:this.lastColumnId,f02:e})):(t=this._utilGetFormElAttributes(),this._action("PIVOT_SORT",{id:i,f01:t.ids,f02:t.values}))},_pivotView:function(){this._action("VIEW_PIVOT")},_pull:function(t,i,o){var n=e.extend({widgetMod:"PULL",widgetAction:t},o);i&&(this.reportId=i),this._get(n)},_remove:function(e){var t="DELETE";e&&(t=e),this._action(t)},_reportView:function(e){this.options.reportViewMode=e,this._action("VIEW_REPORT",{p_widget_view_mode:this.options.reportViewMode})},_reset:function(){this._action("RESET")},_save:function(e){var t=[],i="SAVE",o=this._getId("report_name");$f_get_emptys([o],"error","")||(e&&(i="RENAME"),t.push(o),t.push(this._getId("public_report")),t.push(this._getId("report_description")),this._action(i,{f01:t,f02:this._utilGetFormElValues(t)}),this._getElement(ne).dialog("close"))},_saveDefault:function(e){var t,i=[],o=[],n="SAVE_DEFAULT",a=this._getId("default_type"),r=$v(a),l=this._getId("report_name");"ALTERNATIVE"===r&&(t=$f_get_emptys([l],"error","")),t||(e&&(n=e),i.push(a),o.push(r),"ALTERNATIVE"===r&&(i.push(l),o.push(this._getDialogElement("report_name").val())),this._action(n,{f01:i,f02:o}),this._getElement(ne).dialog("close"))},_saveDefaultTypeCheck:function(e){var t="ALTERNATIVE"===e;this._getDialogElement("report_name").closest(".u-Form-fieldContainer").toggle(t)},_search:function(e,t){var i,o,n=this.options,a=this._getElement("search_field").val();t&&(n.rowsPerPage||n.rowsPerPageSelect)&&(n.currentRowsPerPage=1*t),i={f01:(o=this._utilGetFormElAttributes(this._getId("toolbar_controls"))).ids,f02:o.values},""===a?this._pull(null,this.reportId,i):this._action("QUICK_FILTER",i)},_setDateFieldFormatMask:function(e,t){if(e.length>0&&t){const i=e.attr("value"),o=s.format(new Date,t),n=e.attr("format");let r=!1;/HH|hh/.test(t)&&(r=!0),e.attr("show-time",r).attr("format",t).attr("placeholder",a.formatMessageNoEscape("APEX.SAMPLE_FORMAT_SHORT",o)),e.val(""),t===n&&e.val(i)}},_singleRowViewClear:function(){var e=this._getElement("single_row_view"),t=this._getElement("report_view");return this._off(e),this._off(t),e.html(""),e},_singleRowViewControl:function(){var t=this._getElement("exclude_nulls"),i=this._getElement("show_displayed_only"),o=t.prop(ae),n=i.prop(ae),a=e("div.a-IRR-singleRow-row",this.element),r=a.filter(".is-displayed"),l=a.not(".is-displayed"),s=a.filter(".is-null");r.show(),l.show(),s.show(),o&&n?(s.hide(),l.hide()):o?s.hide():n&&l.hide(),this._action("CHANGE_DETAIL_OPTION",{value:o?t.val():"",x05:n?i.val():""})},_singleRowViewHide:function(){this._singleRowViewClear().hide()},_singleRowViewShow:function(t){var i=this._singleRowViewClear();this._getElement("full_view").hide(),this._getElement("data_panel").val(""),this._getElement(ne).html(""),i.html(t).show(),i.find(":focusable")[0].focus(),this.options.detailLink&&(this._on(this._getElement("report_view"),{click:function(t){this._pull(null,e(t.target).data("report-id"))}}),this._on(i,{"click input.a-IRR-viewOptions-checkbox":function(){this._singleRowViewControl()}}),e("."+A).collapsible({collapsed:!1}))},_sortWidgetHide:function(){var t,i,o,n=this._getElement("sort_widget");n.is(":visible")&&(t=this._getElement("sort_widget_rows"),i=this._getElement("sort_widget_search_field"),o=e("[data-column="+this.lastColumnId+"]",this.element),n.removeAttr("style").css({position:"absolute",display:"none"}),o.closest(".a-IRR-header").removeClass(D),t.html(""),e("button.a-IRR-sortWidget-button",this.element).removeClass(D),this._off(n),this._off(t),this._off(i))},_sortWidgetSearch:function(e,t){var i=t?"contains":"=",o=[this.currentColumnId,i,e,"",""];this._sortWidgetHide(),this._action("COL_FILTER",{f01:o})},_sortWidgetShow:function(i){function o(e){var t=u.find(":focusable");e||(r=t.first()).data("first",!0),(l=t.last()).data("last",!0)}var n,r,l,s,c,_=JSON.parse(i),d=t.htmlBuilder(),u=this._getElement("sort_widget"),g=this._getElement("sort_widget_help"),f=this._getElement("sort_widget_rows"),m=e("[data-column='"+this.currentColumnId+"']",this.element),E=this._getElement("sort_widget_search"),v=this._getElement("sort_widget_search_field"),R=m.first().text();if(u.find("h1").html(a.formatMessage("APEXIR_COLUMN_HEADER_ACTIONS_FOR",R)),this.computationId=_.dialog.id,g.empty().hide(),this._getElement("sort_widget_action_help").find("button.a-IRR-sortWidget-button").removeClass(D).attr(_e,"false").removeAttr(he).removeAttr(de).removeAttr(ue),e("button."+p,u).parent().show(),_.dialog.hide.forEach((function(t,i){e(h(t),u).hide()})),_.dialog.leadSortDir&&(_.dialog.leadSortDir===ie?this._getElement("sort_widget_action_up").find("button.a-IRR-sortWidget-button").addClass(D):_.dialog.leadSortDir===oe&&this._getElement("sort_widget_action_down").find("button.a-IRR-sortWidget-button").addClass(D)),_.dialog.uv){for(s=_.dialog.row.length,n=0;n<s;n++)(0===_.dialog.row[n].R||_.dialog.row[n].R)&&(c=0===_.dialog.row[n].D||_.dialog.row[n].D?_.dialog.row[n].D:_.dialog.row[n].R,d.markup("<a").attr("href","#").attr("data-return-value",_.dialog.row[n].R).attr("class","a-IRR-sortWidget-row").markup(">").markup(c).markup("</a>"));f.append(d.toString()),E.show(),v.val("")}else E.hide();u.show().position({my:"left top",at:"left bottom",of:m}),m.closest(".a-IRR-header").addClass(D),this.lastColumnId=this.currentColumnId,this._on(u,{"click button.a-IRR-sortWidget-button":function(t){switch(e(t.currentTarget).data("option")){case"up":this._columnOrder(ie);break;case"down":this._columnOrder(oe);break;case"hide":this._columnHide();break;case"break":this._controlBreakOn();break;case"help":this._columnHelp();break;case"computation":this._computationShow()}},keydown:function(t){if(t.which===e.ui.keyCode.ESCAPE&&(this._sortWidgetHide(),t.preventDefault(),m.trigger("focus")),t.which===e.ui.keyCode.TAB){var i=!!t.shiftKey;!i&&e(t.target).data("last")&&(t.preventDefault(),r.trigger("focus")),i&&e(t.target).data("first")&&(t.preventDefault(),l.trigger("focus"))}}}),this._on(f,{"click a":function(t){this._sortWidgetSearch(e(t.currentTarget).data("returnValue")),t.preventDefault()}}),this._on(v,{keyup:function(e){l.data("last",!1),$d_Find(this._getId("sort_widget_rows"),e.target.value,"a"),o(!0)},keydown:function(t){t.which===e.ui.keyCode.ENTER&&(this._sortWidgetSearch(e(t.target).val(),!0),t.preventDefault())}}),this._dialogCheck(null,this._sortWidgetHide),o(),r.trigger("focus")},_utilGetFormEls:function(t){return e(h(t)+" :input").not("button")},_utilGetFormElAttributes:function(e){var t,i=[],o=[];return t=e||this._getId(ne),this._utilGetFormEls(t).each((function(e,t){i.push(t.id),o.push($v(t.id))})),{ids:i,values:o}},_utilGetFormElValues:function(e){var t,i=[];for(t=0;t<e.length;t++)i.push($v(e[t]));return i},_utilReplaceAttrText:function(e,t,i,o){var n=e.attr(t).replace(i,o);e.attr(t,n)},_utilAddMoreColumn:function(t,i){var o,n,a,r,l,s,c,_,h=this._getElement(ne);(o=e("select."+i,h).length)<t&&(a=o+1,(n=o)<10?(r="0"+n,l="0"+a):(r=n+"",l=a+""),c=(s=e("div."+i+"-row-"+n,h)).clone(),this._utilReplaceAttrText(c,"class",n,a),e("."+R,c).text(a),_=e("select."+i,c),this._utilReplaceAttrText(_,"id",new RegExp(r+"$"),l),e("label",c).each((function(){var t=e(this);t.attr("for",t.attr("for").replace(new RegExp(r+"$"),l)),t.text(t.text().replace(n,a))})),c.insertAfter(s)),a===t&&(e("."+i+"-add",h).hide(),c.trigger("focus"))},_utilAddMoreFunction:function(t){var i,o,n,a,r,l,s,c,_,h,d,u,g,p,f=this._getElement(ne);(i=e("select."+E,f).length)<t&&(n=i+1,(o=i)<10?(a="0"+o,r="0"+n):(a=o+"",r=n+""),s=(l=e("div."+I+o,f)).clone(),this._utilReplaceAttrText(s,"class",o,n),e("."+R,s).text(n),c=e("select."+E,s),this._utilReplaceAttrText(c,"id",new RegExp(a+"$"),r),this._utilReplaceAttrText(e(this._getIdSelector("number_columns_container")+"_"+a,s),"id",new RegExp(a+"$"),r),this._utilReplaceAttrText(e(this._getIdSelector("all_columns_container")+"_"+a,s),"id",new RegExp(a+"$"),r),_=e("select."+T,s),this._utilReplaceAttrText(_,"id",new RegExp(a+"$"),r),h=e("select."+v,s),this._utilReplaceAttrText(h,"id",new RegExp(a+"$"),r),d=e(this._getIdSelector("label")+"_"+a,s),this._utilReplaceAttrText(d,"id",new RegExp(a+"$"),r),d.val(""),u=e(this._getIdSelector("format_mask")+"_"+a,s),this._utilReplaceAttrText(u,"id",new RegExp(a+"$"),r),u.val(""),g=e(this._getIdSelector("format_mask_picker")+"_"+a,s),this._utilReplaceAttrText(g,"id",new RegExp(a+"$"),r),this._utilReplaceAttrText(g,"data-picker-for",new RegExp(a+"$"),r),p=e(this._getIdSelector("function_sum")+"_"+a,s),this._utilReplaceAttrText(p,"id",new RegExp(a+"$"),r),p.prop(ae,!1),e("label",s).each((function(){var t=e(this);t.attr("for",t.attr("for").replace(new RegExp(a+"$"),r)),t.hasClass("a-Switch")?t.attr("aria-labelledby",t.attr("aria-labelledby").replace(new RegExp(a+"$"),r)):t.text(t.text().replace(o,n))})),s.insertAfter(l)),n===t&&(e("."+m,f).hide(),s.trigger("focus"))},_validAction:function(e){"true"===e?(this._pull("PULL_TOOLBAR"),this._getElement(ne).dialog("close")):(this._getDialogElement("dialog_msg").html(e),this.options.reportViewMode=k)},refresh:function(){this._pull()}})}(apex.jQuery,apex.util,apex.debug,apex.server,apex.navigation,apex.lang,apex.theme,apex.message,apex.date);